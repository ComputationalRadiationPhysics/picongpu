# Name and Path of this Script ############################### (DO NOT change!)
export PIC_PROFILE=$(cd $(dirname $BASH_SOURCE) && pwd)"/"$(basename $BASH_SOURCE)

# User Information ################################# (edit the following lines)
#   - automatically add your name and contact to output file meta data
#   - send mails on job (-B)egin, Fi(-N)ish
export MY_MAILNOTIFY=""
export MY_MAIL="someone@example.com"
export MY_NAME="$(whoami) <$MY_MAIL>"

# Text Editor for Tools ###################################### (edit this line)
#   - examples: "nano", "vim", "emacs -nw", "vi" or without terminal: "gedit"
#export EDITOR="nano"

# General modules #############################################################
#
module load gcc/6.3.0
module load cmake/3.18.4
module load openmpi/2.0.1
module load cuda/9.2
module load boost/1.69.0

export CXX=$(which g++)
export CC=$(which gcc)

# Other Software ##############################################################
#
# not yet as module avaialable

# Environment #################################################################
#
export PICSRC=$HOME/src/picongpu
export PIC_EXAMPLES=$PICSRC/share/picongpu/examples
export PIC_BACKEND="cuda:70"

export PATH=$PATH:$PICSRC
export PATH=$PATH:$PICSRC/bin
export PATH=$PATH:$PICSRC/src/tools/bin

export PYTHONPATH=$PICSRC/lib/python:$PYTHONPATH

# "tbg" default options #######################################################
# currently the submit script, generated by tbg, needs to be streamed to bsub
export TBG_SUBMIT="echo 'manually execute: bsub < '"
export TBG_TPLFILE="etc/picongpu/wexac-weizmann/gpu.tpl"

# select gpu queue PIConGPU should use default gpu-short):
# options are: (default will be gpu-short)
# | queue      | limits                |
# |------------|-----------------------|
# | gpu-short  | 32 gpu's/6 hours max  |
# | gpu-medium | 24 gpu's/12 hours max |
# | gpu-long   | 16 gpu's/10 days max  |
export TBG_queue="gpu-short"

# select type of gpu PIConGPU should use:
# options are: (default will be V100)
# | GPU type | set         |
# |----------|-------------|
# | RTX-2000 | asus_hosts  |
# | RTX-6000 | hpe6k_hosts |
# | RTX-8000 | hpe8k_hosts |
# | V100     | dgx_hosts   |
export TBG_gpuType="dgx_hosts"


# Load autocompletion for PIConGPU commands
BASH_COMP_FILE=$PICSRC/bin/picongpu-completion.bash
if [ -f $BASH_COMP_FILE ] ; then
    source $BASH_COMP_FILE
else
    echo "bash completion file '$BASH_COMP_FILE' not found." >&2
fi
